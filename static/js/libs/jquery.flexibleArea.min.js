/*!
 * * flexibleArea.js v1.2
 * * A jQuery plugin that dynamically updates textarea's height to fit the content.
 * * http://flaviusmatis.github.com/flexibleArea.js/
 * *
 * * Copyright 2012, Flavius Matis
 * * Released under the MIT license.
 * * http://flaviusmatis.github.com/license.html
 * */
(function(b){var a={init:function(){var c=["paddingTop","paddingRight","paddingBottom","paddingLeft","fontSize","lineHeight","fontFamily","width","fontWeight","border-top-width","border-right-width","border-bottom-width","border-left-width","-moz-box-sizing","-webkit-box-sizing","box-sizing"];return this.each(function(){if(this.type!=="textarea"){return false}var f=b(this).css({resize:"none",overflow:"hidden"});var h=b("<div></div>").css({position:"absolute",display:"none","word-wrap":"break-word","white-space":"pre-wrap","border-style":"solid"}).appendTo(document.body);function e(){for(var o=0;o<c.length;o++){h.css(c[o],f.css(c[o]))}}e();var k=f.css("box-sizing")=="border-box"||f.css("-moz-box-sizing")=="border-box"||f.css("-webkit-box-sizing")=="border-box";var g=parseInt(f.css("border-top-width"))+parseInt(f.css("padding-top"))+parseInt(f.css("padding-bottom"))+parseInt(f.css("border-bottom-width"));var n=parseInt(f.css("height"),10);var i=parseInt(f.css("line-height"),10)||parseInt(f.css("font-size"),10);var l=i*2>n?i*2:n;var j=parseInt(f.css("max-height"),10)>-1?parseInt(f.css("max-height"),10):Number.MAX_VALUE;function d(){var o=f.val().replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n/g,"<br/>");h.html(o+"&nbsp;");m()}function m(){var p=h.height();var q="hidden";var o=k?p+i+g:p+i;if(o>j){o=j;q="auto"}else{if(o<l){o=l}}if(f.height()!==o){f.css({overflow:q,height:o+"px"})}}f.bind("keyup change cut paste",function(){d()});b(window).bind("resize",function(){var o=parseInt(f.width(),10);if(h.width()!==o){h.css({width:o+"px"});d()}});f.bind("blur",function(){m()});f.bind("updateHeight",function(){e();d()});b(function(){d()})})}};b.fn.flexible=function(c){if(a[c]){return a[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return a.init.apply(this,arguments)}else{b.error("Method "+c+" does not exist on jQuery.flexible")}}}})(jQuery);
